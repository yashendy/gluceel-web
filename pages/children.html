<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="../css/base.css"/>
  <title>ูููู ุงูุฃูุฑ โ ุงูุฃุทูุงู</title>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-inner container">
      <div class="logo">
        <img src="../assets/gluceel-logo.png" alt="Gluceel" onerror="this.src='../assets/favicon.svg'"/>
        <strong>ุฌููุณูู</strong>
      </div>
      <div class="inline">
        <span id="connStatus" class="badge">๐ถ ูุชุตู</span>
        <a class="btn ghost" href="#" onclick="App.toggleLocale()"><span id="langLabel">AR</span>/<span>EN</span></a>
        <div id="userMenu"></div>
      </div>
    </div>
  </header>

  <main class="container grid" style="grid-template-columns:260px 1fr">
    <aside class="sidebar card">
      <nav class="nav" id="sideNav"></nav>
    </aside>

    <section class="grid" style="gap:16px">
      <!-- ุจุทุงูุฉ ุจูุงูุงุช ูููู ุงูุฃูุฑ -->
      <div class="card">
        <h3>ุจูุงูุงุชู (ูููู ุงูุฃูุฑ)</h3>
        <div class="grid" style="grid-template-columns:1fr 1fr; gap:12px">
          <div class="input"><label>ุงูุงุณู ุงููุงูู</label><input id="g_full_name" placeholder="ุงุณูู"/></div>
          <div class="input"><label>ุงููุงุชู</label><input id="g_phone" placeholder="+2012..."/></div>
          <div class="input"><label>ุฌูุฉ ุงุชุตุงู ุงูุทูุงุฑุฆ</label><input id="g_emg_name" placeholder="ุงุณู"/></div>
          <div class="input"><label>ูุงุชู ุงูุทูุงุฑุฆ</label><input id="g_emg_phone" placeholder="+2012..."/></div>
          <div class="input"><label>ุงููุบุฉ</label>
            <select id="g_locale">
              <option value="ar">ุงูุนุฑุจูุฉ</option>
              <option value="en">English</option>
            </select>
          </div>
          <div class="input"><label>ุงูููุทูุฉ ุงูุฒูููุฉ</label>
            <input id="g_timezone" placeholder="Africa/Cairo"/>
          </div>
          <div class="input inline"><label>ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ</label><input id="g_notify_email" type="checkbox"/></div>
          <div class="input inline"><label>ุฅุดุนุงุฑุงุช ุงูุฏูุน</label><input id="g_notify_push" type="checkbox"/></div>
        </div>
        <div class="inline" style="gap:8px;margin-top:8px">
          <button class="btn" onclick="Guardian.saveProfile()">ุญูุธ ุงูุจูุงูุงุช</button>
          <button class="btn secondary" onclick="Guardian.saveSettings()">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
        </div>
        <div class="small" style="margin-top:6px">ุงููุญุฏุฉ ุงูุญุงููุฉ ููุนูุฑุถ: <strong id="g_unit_hint">mg/dL</strong></div>
      </div>

      <!-- ุจุทุงูุฉ ุฅุถุงูุฉ ุทูู -->
      <div class="card">
        <h3>ุฅุถุงูุฉ ุทูู</h3>
        <div class="grid" style="grid-template-columns:1fr 200px; gap:12px">
          <div class="input"><label>ุงุณู ุงูุทูู</label><input id="child_name" placeholder="ูุซุงู: ุณููู"/></div>
          <div class="input"><label>ูุญุฏุฉ ุงูููุงุณ</label>
            <select id="child_unit">
              <option value="mg/dL">mg/dL</option>
              <option value="mmol/L">mmol/L</option>
            </select>
          </div>
        </div>
        <div class="inline" style="gap:8px">
          <button class="btn" onclick="Guardian.addChild()">ุฅุถุงูุฉ</button>
        </div>
      </div>

      <!-- ุจุทุงูุฉ ุงูุฃุทูุงู -->
      <div class="card">
        <h3>ุฃุทูุงูู</h3>
        <div id="childrenList"></div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner container small">
      <span>ยฉ 2025 Gluceel</span>
      <div class="inline">
        <a href="./emergency.html">ุงูุทูุงุฑุฆ</a>
        <a href="./help.html">ุงููุณุงุนุฏุฉ</a>
        <a href="./education.html">ุงูุชูุนูุฉ</a>
      </div>
    </div>
  </footer>
  <div class="toast card" id="toast"></div>

  <!-- ุชุฑุชูุจ ุงูุณูุฑุจุชุงุช ุงูุตุญูุญ -->
  <script src="../js/app.config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="../js/modules/ui.js"></script>
  <script src="../js/modules/api.js"></script>
  <script src="../js/modules/state.js"></script>
  <script src="../js/modules/auth.js"></script>
  <script src="../js/modules/pwa.js"></script>

  <!-- ููุทู ุงูุตูุญุฉ -->
  <script src="../js/modules/router.js"></script>
  <script src="../js/modules/guardian.js"></script>
  <script src="../js/modules/children.js"></script>
</body>
</html>
