window.Dashboard={async load(){const p=new URLSearchParams(location.search); const childId=p.get('child'); if(!childId)return; const {data:sum}=await API.getSummary(childId); const get=(d)=>sum?.find(x=>x.period_days===d); document.getElementById('tir7')?.innerText=get(7)?.tir_pct??'--'; document.getElementById('tir14')?.innerText=get(14)?.tir_pct??'--'; document.getElementById('tir30')?.innerText=get(30)?.tir_pct??'--'; const {data:meas}=await API.listMeasurements(childId,1); document.getElementById('lastG')?.innerText=meas?.[0]?.glucose_mgdl??'--';}}; document.addEventListener('DOMContentLoaded',()=>Dashboard.load());